<div class="header-breadcrumbs">
    <h1>
        <i class="fa fa-bars"></i> {{'Add a New Share' | translate}}</h1>
</div>

<clr-tabs>
    <clr-tab>
        <button clrTabLink id="tabFundShareButton">{{'Share' | translate}}</button>
        <clr-tab-content class="outer">
            <h3>{{'Please fill out the following information to create a new Share:' | translate}}</h3>

            <form [formGroup]="newFundShareForm">
                <section class="form-block">
                    <div class="row" *ngIf="newFundShareForm">
                        <div class="form-group col-sm-3">
                            <label class="control-label required-field">{{'Is this Share part of an existing Fund?' | translate}}</label>
                            <ng-select
                                id="selectFund"
                                [containerWidth]="'100%'"
                                [items]="fundListItems"
                                placeholder=""
                                [formControl]="newFundShareForm.controls['fund']"
                                [required]="true"
                            >
                            </ng-select>
                        </div>
                        <div class="form-group col-sm-3 alt-option btn-container">
                            <p>{{'or' | translate}}</p>
                            <a class="btn btn-default action-button add-new-fund" [routerLink]="['/product-module/product/fund/new']" [queryParams]="{fromShare : 'true', fund : null}"
                                id="buttonAddNewFund">
                                {{'Add a new Fund' | translate}}
                            </a>
                            <p>{{'or' | translate}}</p>
                        </div>
                        <div class="form-group col-sm-3">
                                <label class="control-label" for="share-prefill-select">&nbsp;</label>
                                <ng-select
                                    id="share-prefill-select"
                                    [containerWidth]="'100%'"
                                    [items]="shareListItems"
                                    placeholder="{{'Duplicate from an existing Share' | translate}}"
                                    [formControl]="newFundShareForm.controls['share']"
                                >
                                </ng-select>
                            </div>
                    </div>
                </section>
            </form>

            <div class="row" *ngIf="fundForm.value.legalEntity">
                <form [formGroup]="fundForm">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-sm-4">
                                <label class="control-label">{{'Legal Entity Identifier (LEI)' | translate}}</label>
                                <input type="text" id="legalEntity" name="legalEntity" formControlName="legalEntity">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-4">
                                <label class="control-label">{{'Domicile' | translate}}</label>
                                <input type="text" id="domicile" name="domicile" formControlName="domicile">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <form>
                        <div class="form-group">
                            <a href="/#/product-module/product" class="btn btn-default" id="buttonBack">{{'Back' | translate}}

                            </a>
                            <button type="button" class="btn btn-primary action-button select-fund" id="buttonSelectFund" (click)="selectFund()" [disabled]="!isValid()">{{'Next' | translate}}

                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </clr-tab-content>
    </clr-tab>
</clr-tabs>