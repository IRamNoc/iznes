<div class="header-breadcrumbs fundCreateComponent">
    <h1><i class="fa fa-bars"></i> <span>Add a New Fund</span></h1>
</div>

<div class="padding fundCreateComponent"></div>

<clr-tabs class="fundCreateComponent">
    <clr-tab>
        <button clrTabLink id="standardform">
            <i class="fa fa-bars"></i> <span>Fund</span>
        </button>

        <clr-tab-content *clrIfActive>

            <div *ngIf="viewMode === 'UMBRELLA'" class="umbrellaForm">
                <h3>Please fill up the following information to create a new Fund:</h3>

                <form [formGroup]="umbrellaForm" (ngSubmit)="submitUmbrellaForm()">
                    <section class="form-block">
                        <div class="row">
                            <div class="form-group required-field col-sm-6">
                                <label class="control-label" for="select">
                                    <span>Is this Fund part of an Umbrella Fund?</span>
                                </label>
                                <ng-select id="select"
                                           [items]="umbrellaItems"
                                           [allowClear]="false"
                                           placeholder="Select or type an Umbrella Fund name"
                                           [formControl]="umbrellaControl">
                                </ng-select>
                            </div>
                            <div class="form-group col-sm-6 btn-container">
                                <p>or</p>
                                <a class="btn btn-default" routerLink="/product-module/umbrella-fund/0">Add a new Umbrella Fund</a>
                            </div>
                        </div>

                        <div class="row" *ngIf="selectedUmbrella == 0">

                            <div class="col-sm-12">
                                <p>The fund is not part of an Umbrella Fund.</p>
                            </div>
                        </div>


                        <section class="form-block" *ngIf="selectedUmbrella > 0">
                            <div class="row">
                                <div class="form-group col-sm-6">
                                    <label class="control-label" for="umbrellaFundName">Umbrella Fund Name</label>
                                    <input type="text" name="umbrellaFundName" id="umbrellaFundName" formControlName="umbrellaFundName" />
                                </div>
                                <div class="form-group col-sm-6">
                                    <label class="control-label" for="umbrellaLei">Legal Entity Identifier (LEI)</label>
                                    <input type="text" name="umbrellaLei" id="umbrellaLei" formControlName="umbrellaLei" />
                                </div>
                                <div class="form-group col-sm-6">
                                    <label class="control-label" for="umbrellaFundDomicile">Umbrella Fund Domicile (Country)</label>
                                    <input type="text" name="umbrellaFundDomicile" id="umbrellaFundDomicile" formControlName="umbrellaFundDomicile" />
                                </div>
                            </div>
                        </section>

                        <div class="row">
                            <div class="form-group col-sm-12 submit-container">
                                <button type="button" class="btn btn-default" (click)="onClickBack()">Cancel</button>
                                <button id="submitUmbrella" type="submit" class="btn btn-primary" [disabled]="!umbrellaForm.valid">Next</button>
                            </div>
                        </div>

                    </section>
                </form>
            </div>

            <form [formGroup]="fundForm" (ngSubmit)="submitFundForm()" *ngIf="viewMode === 'FUND'" class="fundForm">
                <div class="well">
                    <!-- Panel header -->
                    <div class="row panel-header">
                        <div class="col-xs-6">
                            <a href="#" (click)="panels[0].open = !panels[0].open; $event.preventDefault();">
                                <i class="fa fa-chevron-right" [class.rotate]="panels[0].open"></i>
                                <h2>{{isUmbrellaSelected() ? 'Umbrella Fund: ' + umbrellaControl.value[0].text : 'No Umbrella Fund'}}</h2>
                            </a>
                        </div>
                    </div>

                    <!-- Panel body -->
                    <div class="row panel-body" [class.hidden]="!panels[0].open">
                        <!--<div class="col-xs-12">-->
                            <form [formGroup]="umbrellaEditForm" class="umbrellaEditForm">
                                <div class="well">
                                    <!-- Panel header -->
                                    <div class="row panel-header">
                                        <div class="col-xs-12">
                                            <a href="#" (click)="panels[0][0].open = !panels[0][0].open; $event.preventDefault();">
                                                <i class="fa fa-chevron-right" [class.rotate]="panels[0][0].open" ></i>
                                                <h2>Choose another umbrella fund:</h2>
                                            </a>
                                        </div>
                                    </div>

                                    <!-- Panel body -->
                                    <div class="panel-body" [class.hidden]="!panels[0][0].open">
                                        <section class="form-block" *ngIf="isUmbrellaSelected()">
                                            <div class="row">
                                                <div class="form-group col-sm-6">
                                                    <label class="control-label" for="umbrellaEditLei">Legal Entity Identifier (LEI)</label>
                                                    <input type="text" name="umbrellaEditLei" id="umbrellaEditLei" formControlName="umbrellaEditLei" />
                                                </div>
                                                <div class="form-group col-sm-6">
                                                    <label class="control-label" for="umbrellaEditFundDomicile">Umbrella Fund Domicile (Country)</label>
                                                    <input type="text" name="umbrellaEditFundDomicile" id="umbrellaEditFundDomicile" formControlName="umbrellaEditFundDomicile" />
                                                </div>
                                            </div>
                                        </section>
                                        <section class="form-block">
                                            <div class="row">
                                                <div class="form-group col-sm-6">
                                                    <label class="control-label" for="select">
                                                        <span>Click here to select another Umbrella Fund for this Fund</span>
                                                    </label>
                                                    <ng-select id="umbrellaFund"
                                                               [items]="umbrellaItems"
                                                               [allowClear]="false"
                                                               placeholder="Select or type an Umbrella Fund"
                                                               [formControl]="umbrellaControl"
                                                    >
                                                    </ng-select>
                                                </div>
                                            </div>
                                        </section>
                                    </div>
                                </div>

                                <div class="well" *ngIf="isUmbrellaSelected()">
                                    <!-- Panel header -->
                                    <div class="row panel-header">
                                        <div class="col-xs-12">
                                            <a href="#" (click)="panels[0][1].open = !panels[0][1].open; $event.preventDefault();">
                                                <i class="fa fa-chevron-right" [class.rotate]="panels[0][1].open" ></i>
                                                <h2>Main information</h2>
                                            </a>
                                        </div>
                                    </div>

                                    <!-- Panel body -->
                                    <div class="panel-body" [class.hidden]="!panels[0][1].open">
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label for="uf_umbrellaFundName">
                                                    <span>Umbrella Fund Name</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_umbrellaFundName" class="form-control" formControlName="umbrellaFundName">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="uf_lei">
                                                    <span>Legal Entity Identifier (LEI)</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_lei" class="form-control" formControlName="legalEntityIdentifier">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label for="uf_registerOffice">
                                                    <span>Name of the Registred Office of the Umbrella Fund</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_registerOffice" class="form-control" formControlName="registerOffice">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="uf_registerOfficeAddress">
                                                    <span>Address of the Registred Office of the Umbrella Fund</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_registerOfficeAddress" class="form-control" formControlName="registerOfficeAddress">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label for="uf_domicile">
                                                    <span>Umbrella Fund Domicile (country)</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_domicile" class="form-control" formControlName="domicile">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="uf_umbrellaFundCreationDate">
                                                    <span>Umbrella Fund Creation Date</span>
                                                </label>
                                                <div class="input-group date-pick-wrapper">
                                                    <span class="fa fa-calendar" aria-hidden="true"></span>
                                                    <input id="uf_umbrellaFundCreationDate" formControlName="umbrellaFundCreationDate" [dpDayPicker]="configDate" placeholder="Choose a date" mode="day" theme="dp-material"/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label for="uf_managementCompany">
                                                    <span>Management Company</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_managementCompany" class="form-control" formControlName="managementCompanyID">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="uf_fundAdministrator">
                                                    <span>Fund Administrator</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_fundAdministrator" class="form-control" formControlName="fundAdministratorID">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label for="uf_custodian">
                                                    <span>Custodian Bank</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_custodian" class="form-control" formControlName="custodianBankID">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="uf_investmentManager">
                                                    <span>Investment Manager</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_investmentManager" class="form-control" formControlName="investmentManagerID">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label for="uf_investmentAdvisor">
                                                    <span>Investment Advisor</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_investmentAdvisor" class="form-control" formControlName="investmentAdvisorID">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="uf_payingAgent">
                                                    <span>Paying Agent</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_payingAgent" class="form-control" formControlName="payingAgentID">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="umbrellaEditForm.controls['transferAgentID'].value || umbrellaEditForm.controls['centralisingAgentID'].value">
                                            <div class="form-group col-sm-6" *ngIf="umbrellaEditForm.controls['transferAgentID'].value">
                                                <label>
                                                    <span>Transfer Agent</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_transferAgentID" class="form-control" formControlName="transferAgentID">
                                                </div>

                                            </div>
                                            <div class="form-group col-sm-6" *ngIf="umbrellaEditForm.controls['centralisingAgentID'].value">
                                                <label>
                                                    <span>Centralising Agent</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_centralisingAgentID" class="form-control" formControlName="centralisingAgentID">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="well"  *ngIf="isUmbrellaSelected()">
                                    <!-- Panel header -->
                                    <div class="row panel-header">
                                        <div class="col-xs-12">
                                            <a href="#" (click)="panels[0][2].open = !panels[0][2].open; $event.preventDefault();">
                                                <i class="fa fa-chevron-right" [class.rotate]="panels[0][2].open" ></i>
                                                <h2>Optional Information</h2>
                                            </a>
                                        </div>
                                    </div>

                                    <!-- Panel body -->
                                    <div class="panel-body" [class.hidden]="!panels[0][2].open">
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label for="uf_giin">
                                                    <span>Global Intermediary Identification Number (GIIN)</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_giin" class="form-control" formControlName="giin">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="uf_delegatedManagementCompany">
                                                    <span>Delegated Management Company</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_delegatedManagementCompany" class="form-control" formControlName="delegatedManagementCompanyID">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label for="uf_auditor">
                                                    <span>Auditor</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_auditor" class="form-control" formControlName="auditorID">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="uf_taxAuditor">
                                                    <span>Tax Auditor</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_taxAuditor" class="form-control" formControlName="taxAuditorID">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label for="uf_principalPromoter">
                                                    <span>Principal Promoter</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_principalPromoter" class="form-control" formControlName="principlePromoterID">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="uf_legalAdvisor">
                                                    <span>Legal Advisor</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_legalAdvisor" class="form-control" formControlName="legalAdvisorID">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label for="uf_directors">
                                                    <span>Directors</span>
                                                </label>
                                                <div>
                                                    <input type="text" id="uf_directors" class="form-control" formControlName="directors">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </form>
                        <!--</div>-->
                    </div>
                </div>

                <div class="well">
                    <!-- Panel header -->
                    <div class="row panel-header">
                        <div class="col-xs-6">
                            <a href="#" (click)="panels[1].open = !panels[1].open; $event.preventDefault();">
                                <i class="fa fa-chevron-right" [class.rotate]="panels[1].open"></i>
                                <h2> Fund: {{fundForm.controls['fundName'].value}}</h2>
                            </a>
                        </div>
                    </div>

                    <!-- Panel body -->
                    <div class="row panel-body" [class.hidden]="!panels[1].open">
                        <div class="col-xs-12">

                            <div class="well">
                                <!-- Panel header -->
                                <div class="row panel-header">
                                    <div class="col-xs-6">
                                        <a href="#" (click)="panels[1][0].open = !panels[1][0].open; $event.preventDefault();">
                                            <i class="fa fa-chevron-right" [class.rotate]="panels[1][0].open"
                                            ></i> <h2>Main Information</h2>
                                        </a>
                                    </div>
                                </div>

                                <!-- Panel body -->
                                <div class="panel-body" [class.hidden]="!panels[1][0].open">
                                    <section class="form-block">
                                        <div class="row">
                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label">Fund Structure</label>
                                                <div class="radio-inline disabled">
                                                    <input type="radio" name="isFundStructure" id="isFundStructure1" formControlName="isFundStructure" value="{{enums.isFundStructure.FUND}}">
                                                    <label for="isFundStructure1">Single fund Structure</label>
                                                </div>
                                                <div class="radio-inline disabled">
                                                    <input type="radio" name="isFundStructure" id="isFundStructure2" formControlName="isFundStructure" value="{{enums.isFundStructure.UMBRELLA}}">
                                                    <label for="isFundStructure2">Fund Umbrella Structure</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label" for="fundName">Fund Name</label>
                                                <input type="text" name="fundName" id="fundName" formControlName="fundName" />
                                                <span class="field-error">Field is required</span>
                                            </div>

                                            <div class="form-group col-sm-6" *ngIf="fundForm.controls['isFundStructure'].value === enums.isFundStructure.UMBRELLA.toString()">
                                                <label class="control-label" for="umbrellaFundID">Umbrella Name</label>
                                                <input type="text" name="umbrellaFundID" id="umbrellaFundID" value="{{umbrellaControl.value[0].text}}" disabled/>
                                            </div>
                                        </div>
                                        <div class="row">

                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label" for="AuMFund">AuM Fund</label>
                                                <input type="text" name="AuMFund" id="AuMFund" formControlName="AuMFund" />
                                                <span class="field-error">Field is required</span>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label" for="AuMFundDate">AuM Fund Date</label>
                                                <div class="input-group">
                                                    <span class="fa fa-calendar" aria-hidden="true"></span>
                                                    <input id="AuMFundDate" formControlName="AuMFundDate" [dpDayPicker]="configDate" placeholder="Choose a date" mode="day" theme="dp-material"/>
                                                </div>
                                                <span *ngIf="fundForm.controls['AuMFundDate'].touched && fundForm.controls['AuMFundDate'].hasError('required')" class="field-error">Field is required</span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="legalEntityIdentifier">Legal Entity Identifier (LEI)</label>
                                                <input type="text" name="legalEntityIdentifier" id="legalEntityIdentifier" formControlName="legalEntityIdentifier" />
                                                <span *ngIf="fundForm.controls['legalEntityIdentifier'].touched && fundForm.controls['legalEntityIdentifier'].hasError('pattern')" class="field-error">Field should be 20 characters length</span>

                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="registerOffice">Name of the Registered Office of the Fund</label>
                                                <input type="text" name="registerOffice" id="registerOffice" formControlName="registerOffice" />
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="registerOfficeAddress">Address of the register Office of the Fund</label>
                                                <input type="text" name="registerOfficeAddress" id="registerOfficeAddress" formControlName="registerOfficeAddress" />
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <div>
                                                    <label class="control-label" for="domicile">Fund Domicile (country)</label>
                                                    <ng-select id="domicile"
                                                               [items]="domicileItems"
                                                               [allowClear]="true"
                                                               placeholder="Select"
                                                               [formControl]="fundForm.controls['domicile']">
                                                    </ng-select>
                                                    <span class="field-error" *ngIf="fundForm.controls['domicile'].hasError('required') && fundForm.controls['domicile'].touched">Field is required</span>
                                                </div>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <div *ngIf="isHomeCountryLegalTypeVisible()">
                                                    <label class="control-label" for="homeCountryLegalType">Home Country Legal Type of Fund</label>
                                                    <ng-select id="homeCountryLegalType"
                                                               [items]="homeCountryLegalTypeItems"
                                                               [allowClear]="true"
                                                               placeholder="Select"
                                                               [formControl]="fundForm.controls['homeCountryLegalType']">
                                                    </ng-select>
                                                    <span class="field-error" *ngIf="fundForm.controls['homeCountryLegalType'].hasError('required') && fundForm.controls['homeCountryLegalType'].touched">Field is required</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label">Is EU Directive Relevant?</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isEuDirective" id="isEuDirective1" formControlName="isEuDirective" value="{{enums.isEuDirective.YES}}">
                                                    <label for="isEuDirective1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isEuDirective" id="isEuDirective2" formControlName="isEuDirective" value="{{enums.isEuDirective.NO}}">
                                                    <label for="isEuDirective2">No</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="fundForm.controls['isEuDirective'].value === enums.isEuDirective.YES.toString()">
                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label" for="typeOfEuDirective">Type of EU Directive</label>
                                                <ng-select id="typeOfEuDirective"
                                                           [items]="typeOfEuDirectiveItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['typeOfEuDirective']">
                                                </ng-select>
                                                <span class="field-error" *ngIf="fundForm.controls['typeOfEuDirective'].hasError('required') && fundForm.controls['typeOfEuDirective'].touched">Field is required</span>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <div *ngIf="fundForm.controls['isEuDirective'].value === enums.isEuDirective.YES.toString() && getEuDirectiveType() === enums.typeOfEuDirective.UCITS">
                                                    <label class="control-label" for="UcitsVersion">UCITS Version</label>
                                                    <ng-select id="UcitsVersion"
                                                               [items]="UcitsVersionItems"
                                                               [allowClear]="true"
                                                               placeholder="Select"
                                                               [formControl]="fundForm.controls['UcitsVersion']">
                                                    </ng-select>
                                                    <span class="field-error" *ngIf="fundForm.controls['UcitsVersion'].hasError('required') && fundForm.controls['UcitsVersion'].touched">Field is required</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="form-group required-field col-sm-6">
                                                <div>
                                                    <label class="control-label" for="legalForm">Legal Form of the Fund</label>
                                                    <ng-select id="legalForm"
                                                               [items]="legalFormItems"
                                                               [allowClear]="true"
                                                               placeholder="Select"
                                                               [formControl]="fundForm.controls['legalForm']">
                                                    </ng-select>
                                                    <span class="field-error" *ngIf="fundForm.controls['legalForm'].hasError('required') && fundForm.controls['legalForm'].touched">Field is required</span>
                                                </div>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <div *ngIf="fundForm.controls['legalForm'].value.length">
                                                    <label class="control-label" for="nationalNomenclatureOfLegalForm">National Nomenclature of Legal Fund</label>
                                                    <ng-select id="nationalNomenclatureOfLegalForm"
                                                               [items]="nationalNomenclatureOfLegalFormItems"
                                                               [allowClear]="true"
                                                               placeholder="Select"
                                                               [formControl]="fundForm.controls['nationalNomenclatureOfLegalForm']">
                                                    </ng-select>
                                                    <span class="field-error" *ngIf="fundForm.controls['nationalNomenclatureOfLegalForm'].hasError('required') && fundForm.controls['nationalNomenclatureOfLegalForm'].touched">Field is required</span>
                                                </div>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="fundCreationDate">Fund Creation Date (YYYY-MM-JJ)</label>
                                                <div class="input-group">
                                                    <span class="fa fa-calendar" aria-hidden="true"></span>
                                                    <input id="fundCreationDate" formControlName="fundCreationDate" [dpDayPicker]="configDate" placeholder="Choose a date" mode="day" theme="dp-material"/>
                                                </div>
                                                <div *ngIf="false" class="text-danger">User error feedback</div>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="fundLaunchate">Fund Launch Date (YYYY-MM-DD)</label>
                                                <div class="input-group">
                                                    <span class="fa fa-calendar" aria-hidden="true"></span>
                                                    <input id="fundLaunchate" formControlName="fundLaunchate" [dpDayPicker]="configDate" placeholder="Choose a date" mode="day" theme="dp-material"/>
                                                </div>
                                                <div *ngIf="false" class="text-danger">User error feedback</div>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label" for="fundCurrency">Fund Currency</label>
                                                <ng-select id="fundCurrency"
                                                           [items]="fundCurrencyItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['fundCurrency']">
                                                </ng-select>
                                                <span class="field-error" *ngIf="fundForm.controls['fundCurrency'].hasError('required') && fundForm.controls['fundCurrency'].touched">Field is required</span>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label">Open-ended or Close-ended Fund Structure</label>
                                                <div class="radio-inline">
                                                    <input type="radio"  name="openOrCloseEnded" id="openOrCloseEnded1" formControlName="openOrCloseEnded" value="{{enums.openOrCloseEnded.OPEN_ENDED}}">
                                                    <label for="openOrCloseEnded1">Open-ended</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio"  name="openOrCloseEnded" id="openOrCloseEnded2" formControlName="openOrCloseEnded" value="{{enums.openOrCloseEnded.CLOSE_ENDED}}">
                                                    <label for="openOrCloseEnded2">Close-ended</label>
                                                </div>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label" for="fiscalYearEnd">Fiscal Year End (MM-DD)</label>
                                                <div class="input-group">
                                                    <span class="fa fa-calendar" aria-hidden="true"></span>
                                                    <input id="fiscalYearEnd" formControlName="fiscalYearEnd" [dpDayPicker]="configMonth" [required]="true" placeholder="Choose a date" mode="month" theme="dp-material"/>
                                                </div>
                                                <div *ngIf="fundForm.controls['fiscalYearEnd'].touched && fundForm.controls['fiscalYearEnd'].hasError('required')" class="text-danger">Field is required</div>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label">Is Fund of Funds</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isFundOfFund" id="isFundOfFund1" formControlName="isFundOfFund" value="{{enums.isFundOfFund.YES}}">
                                                    <label for="isFundOfFund1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isFundOfFund" id="isFundOfFund2" formControlName="isFundOfFund" value="{{enums.isFundOfFund.NO}}">
                                                    <label for="isFundOfFund2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label" for="managementCompanyID">Management Company</label>
                                                <ng-select id="managementCompanyID"
                                                           [items]="managementCompanyItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['managementCompanyID']">
                                                </ng-select>
                                                <span class="field-error" *ngIf="fundForm.controls['managementCompanyID'].hasError('required') && fundForm.controls['managementCompanyID'].touched">Field is required</span>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label" for="fundAdministrator">Fund Administrator</label>
                                                <ng-select id="fundAdministrator"
                                                           [items]="fundAdministratorItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['fundAdministrator']">
                                                </ng-select>
                                                <span class="field-error" *ngIf="fundForm.controls['fundAdministrator'].hasError('required') && fundForm.controls['fundAdministrator'].touched">Field is required</span>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label" for="custodianBank">Custodian Bank</label>
                                                <ng-select id="custodianBank"
                                                           [items]="custodianBankItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['custodianBank']">
                                                </ng-select>
                                                <span class="field-error" *ngIf="fundForm.controls['custodianBank'].hasError('required') && fundForm.controls['custodianBank'].touched">Field is required</span>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="investmentManager">Investment Manager</label>
                                                <ng-select id="investmentManager"
                                                           [items]="investmentManagerItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['investmentManager']">
                                                </ng-select>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="principalPromoter">Principal Promoter</label>
                                                <ng-select id="principalPromoter"
                                                           [items]="principalPromoterItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['principalPromoter']">
                                                </ng-select>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="payingAgent">Paying Agent</label>
                                                <ng-select id="payingAgent"
                                                           [items]="payingAgentItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['payingAgent']">
                                                </ng-select>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="fundManagers">Fund Managers</label>
                                                <input type="text" name="fundManagers" id="fundManagers" formControlName="fundManagers" />
                                            </div>

                                            <div class="form-group required-field col-sm-6" *ngIf="isTransferAgentActive()">
                                                <label class="control-label" for="transferAgent">Transfer Agent</label>
                                                <ng-select id="transferAgent"
                                                           [items]="transferAgentItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['transferAgent']">
                                                </ng-select>
                                                <span class="field-error" *ngIf="fundForm.controls['transferAgent'].hasError('required') && fundForm.controls['transferAgent'].touched">Field is required</span>
                                            </div>

                                            <div class="form-group required-field col-sm-6" *ngIf="isCentralizingAgentActive()">
                                                <label class="control-label" for="centralizingAgent">Centralizing Agent</label>
                                                <ng-select id="centralizingAgent"
                                                           [items]="centralizingAgentItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['centralizingAgent']">
                                                </ng-select>
                                                <span class="field-error" *ngIf="fundForm.controls['centralizingAgent'].hasError('required') && fundForm.controls['centralizingAgent'].touched">Field is required</span>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label">Is Dedicated Fund</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isDedicatedFund" id="isDedicatedFund1" formControlName="isDedicatedFund" value="{{enums.isDedicatedFund.YES}}">
                                                    <label for="isDedicatedFund1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isDedicatedFund" id="isDedicatedFund2" formControlName="isDedicatedFund" value="{{enums.isDedicatedFund.NO}}">
                                                    <label for="isDedicatedFund2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group required-field col-sm-6">
                                                <label class="control-label" for="portfolioCurrencyHedge">Portfolio Currency Hedge</label>
                                                <ng-select id="portfolioCurrencyHedge"
                                                           [items]="portfolioCurrencyHedgeItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['portfolioCurrencyHedge']">
                                                </ng-select>
                                                <span class="field-error" *ngIf="fundForm.controls['portfolioCurrencyHedge'].hasError('required') && fundForm.controls['portfolioCurrencyHedge'].touched">Field is required</span>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>

                            <div class="well">
                                <!-- Panel header -->
                                <div class="row panel-header">
                                    <div class="col-xs-6">
                                        <a href="#" (click)="panels[1][1].open = !panels[1][1].open; $event.preventDefault();">
                                            <i class="fa fa-chevron-right" [class.rotate]="panels[1][1].open"
                                            ></i> <h2>Optional Information</h2>
                                        </a>
                                    </div>
                                </div>

                                <!-- Panel body -->
                                <div class="panel-body" [class.hidden]="!panels[1][1].open">
                                    <section class="form-block">
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="globalItermediaryIdentification">Global Intermediary Identification Number (GIIN)</label>
                                                <input type="text" name="globalItermediaryIdentification" id="globalItermediaryIdentification" formControlName="globalItermediaryIdentification" />
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="delegatedManagementCompany">Delegated Management Company</label>
                                                <input type="text" name="delegatedManagementCompany" id="delegatedManagementCompany" formControlName="delegatedManagementCompany" />
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="investmentAdvisor">Investment Advisor</label>
                                                <ng-select id="investmentAdvisor"
                                                           [items]="investmentAdvisorItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['investmentAdvisor']">
                                                </ng-select>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="auditor">Auditor</label>
                                                <ng-select id="auditor"
                                                           [items]="auditorItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['auditor']">
                                                </ng-select>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="taxAuditor">Tax Auditor</label>
                                                <ng-select id="taxAuditor"
                                                           [items]="taxAuditorItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['taxAuditor']">
                                                </ng-select>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="legalAdvisor">Legal Advisor</label>
                                                <ng-select id="legalAdvisor"
                                                           [items]="legalAdvisorItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['legalAdvisor']">
                                                </ng-select>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="directors">Directors</label>
                                                <input type="text" name="directors" id="directors" formControlName="directors" />
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="pocket">Pocket</label>
                                                <input type="text" name="pocket" id="pocket" formControlName="pocket" />
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label">Has Embedded Derivatives</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasEmbeddedDirective" id="hasEmbeddedDirective1" formControlName="hasEmbeddedDirective" value="{{enums.hasEmbeddedDirective.YES}}">
                                                    <label for="hasEmbeddedDirective1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasEmbeddedDirective" id="hasEmbeddedDirective2" formControlName="hasEmbeddedDirective" value="{{enums.hasEmbeddedDirective.NO}}">
                                                    <label for="hasEmbeddedDirective2">No</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label class="control-label">Has Capital Preservation</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasCapitalPreservation" id="hasCapitalPreservation1" formControlName="hasCapitalPreservation" value="{{enums.hasCapitalPreservation.YES}}">
                                                    <label for="hasCapitalPreservation1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasCapitalPreservation" id="hasCapitalPreservation2" formControlName="hasCapitalPreservation" value="{{enums.hasCapitalPreservation.NO}}">
                                                    <label for="hasCapitalPreservation2">No</label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row" *ngIf="fundForm.controls['hasCapitalPreservation'].value === enums.hasCapitalPreservation.YES.toString()">
                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="capitalPreservationLevel">Capital Preservation Level</label>
                                                <input type="number" name="capitalPreservationLevel" id="capitalPreservationLevel" formControlName="capitalPreservationLevel" />
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="capitalPreservationPeriod">Capital Preservation Period</label>
                                                <ng-select id="capitalPreservationPeriod"
                                                           [items]="capitalPreservationPeriodItems"
                                                           [allowClear]="true"
                                                           placeholder="Select"
                                                           [formControl]="fundForm.controls['capitalPreservationPeriod']">
                                                </ng-select>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group col-sm-6">
                                                <label class="control-label">Has CPPI</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasCppi" id="hasCppi1" formControlName="hasCppi" value="{{enums.hasCppi.YES}}">
                                                    <label for="hasCppi1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasCppi" id="hasCppi2" formControlName="hasCppi" value="{{enums.hasCppi.NO}}">
                                                    <label for="hasCppi2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <div *ngIf="fundForm.controls['hasCppi'].value === enums.hasCppi.YES.toString()">
                                                    <label class="control-label" for="cppiMultiplier">CPPI Multiplier</label>
                                                    <input type="number" name="cppiMultiplier" id="cppiMultiplier" formControlName="cppiMultiplier" />
                                                </div>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label">Has Hedge Fund Strategy</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasHedgeFundStrategy" id="hasHedgeFundStrategy1" formControlName="hasHedgeFundStrategy" value="{{enums.hasHedgeFundStrategy.YES}}">
                                                    <label for="hasHedgeFundStrategy1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasHedgeFundStrategy" id="hasHedgeFundStrategy2" formControlName="hasHedgeFundStrategy" value="{{enums.hasHedgeFundStrategy.NO}}">
                                                    <label for="hasHedgeFundStrategy2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label">Is Leveraged</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isLeveraged" id="isLeveraged1" formControlName="isLeveraged" value="{{enums.isLeveraged.YES}}">
                                                    <label for="isLeveraged1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isLeveraged" id="isLeveraged2" formControlName="isLeveraged" value="{{enums.isLeveraged.NO}}">
                                                    <label for="isLeveraged2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label">Has 130/30 Strategy</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="has130Or30Strategy" id="has130Or30Strategy1" formControlName="has130Or30Strategy" value="{{enums.has130_30Strategy.YES}}">
                                                    <label for="has130Or30Strategy1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="has130Or30Strategy" id="has130Or30Strategy2" formControlName="has130Or30Strategy" value="{{enums.has130_30Strategy.NO}}">
                                                    <label for="has130Or30Strategy2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label">Is Fund Targeting Environmental or Social Objectives (EOS)</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isFundTargetingEos" id="isFundTargetingEos1" formControlName="isFundTargetingEos" value="{{enums.isFundTargetingEos.YES}}">
                                                    <label for="isFundTargetingEos1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isFundTargetingEos" id="isFundTargetingEos2" formControlName="isFundTargetingEos" value="{{enums.isFundTargetingEos.NO}}">
                                                    <label for="isFundTargetingEos2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label">Is Fund Targeting Socially Responsible Investment (SRI)</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isFundTargetingSri" id="isFundTargetingSri1" formControlName="isFundTargetingSri" value="{{enums.isFundTargetingSri.YES}}">
                                                    <label for="isFundTargetingSri1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isFundTargetingSri" id="isFundTargetingSri2" formControlName="isFundTargetingSri" value="{{enums.isFundTargetingSri.NO}}">
                                                    <label for="isFundTargetingSri2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label">Is Passive Fund</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isPassiveFund" id="isPassiveFund1" formControlName="isPassiveFund" value="{{enums.isPassiveFund.YES}}">
                                                    <label for="isPassiveFund1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="isPassiveFund" id="isPassiveFund2" formControlName="isPassiveFund" value="{{enums.isPassiveFund.NO}}">
                                                    <label for="isPassiveFund2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label">Has Security Lending</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasSecurityiesLending" id="hasSecurityiesLending1" formControlName="hasSecurityiesLending" value="{{enums.hasSecurityiesLending.YES}}">
                                                    <label for="hasSecurityiesLending1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasSecurityiesLending" id="hasSecurityiesLending2" formControlName="hasSecurityiesLending" value="{{enums.hasSecurityiesLending.NO}}">
                                                    <label for="hasSecurityiesLending2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group checkbox-container col-sm-6">
                                                <label class="control-label">Has Swap</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasSwap" id="hasSwap1" formControlName="hasSwap" value="{{enums.hasSwap.YES}}">
                                                    <label for="hasSwap1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasSwap" id="hasSwap2" formControlName="hasSwap" value="{{enums.hasSwap.NO}}">
                                                    <label for="hasSwap2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group checkbox-container col-sm-6">
                                                <label class="control-label">Has Duration Hedge</label>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasDurationHedge" id="hasDurationHedge1" formControlName="hasDurationHedge" value="{{enums.hasDurationHedge.YES}}">
                                                    <label for="hasDurationHedge1">Yes</label>
                                                </div>
                                                <div class="radio-inline">
                                                    <input type="radio" name="hasDurationHedge" id="hasDurationHedge2" formControlName="hasDurationHedge" value="{{enums.hasDurationHedge.NO}}">
                                                    <label for="hasDurationHedge2">No</label>
                                                </div>
                                            </div>

                                            <div class="form-group col-sm-6">
                                                <label class="control-label" for="investmentObjective">Investment Objective</label>
                                                <textarea name="investmentObjective" id="investmentObjective" formControlName="investmentObjective" ></textarea>
                                            </div>

                                        </div>
                                    </section>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="form-group col-sm-12 submit-container">
                            <button id="cancelfund" type="button" class="btn btn-default" (click)="onClickBack()">Cancel</button>
                            <button id="submitfund" type="submit" class="btn btn-primary" [disabled]="!fundForm.valid">Save</button>
                        </div>
                    </div>
                </div>

            </form>
        </clr-tab-content>
    </clr-tab>
</clr-tabs>
