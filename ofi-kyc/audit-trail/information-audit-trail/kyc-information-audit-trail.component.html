<h2>Request Information Audit Trail</h2>
<p>Please find below the audit trail regarding the status of your request:</p>

<div>
    <form [formGroup]="searchForm" id="searchForm">
        <div class="row bordered form-group">
            <div class="col-sm-3">
                <label>{{'Search a section or subsection' | translate}}

                </label>
                <div class="input-button-group">
                    <input id="orders-search-fundname" formControlName="search" name="search-fundname" type="text" [placeholder]="translate.translate('Search a section or subsection')">

                    <button (click)="requestSearch()" style="margin-top: 0;">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>

            <div class="col-sm-3">
                <label for="orders-search-from-date">{{'Date From' | translate}}

                </label>
                <div class="input-group date-pick-wrapper">
                    <span class="fa fa-calendar" aria-hidden="true"></span>
                    <input id="orders-search-from-date" formControlName="startDate" [dpDayPicker]="configDate" [placeholder]="translate.translate('Choose a date')"
                        mode="day" theme="dp-material">

                </div>
            </div>
            <div class="col-sm-3">
                <label for="orders-search-to-date">{{'Date To' | translate}}

                </label>
                <div class="input-group date-pick-wrapper">
                    <span class="fa fa-calendar" aria-hidden="true"></span>
                    <input id="orders-search-to-date" formControlName="endDate" [dpDayPicker]="configDate" [placeholder]="translate.translate('Choose a date')"
                        mode="day" theme="dp-material">

                </div>
            </div>
            <div class="col-sm-3 export-btn-container">
                <button class="btn btn-primary" (click)="exportCsv()">Export Information Audit Trail</button>
            </div>
        </div>

    </form>
</div>

<clr-datagrid class="expandable" clrDgSortIcon>
    <clr-dg-column [clrDgField]="'section'" clrDgSortIcon clrDgSortNoSearch>
        {{'Section' | translate}}
        <span class="column-label"></span>
    </clr-dg-column>
    <clr-dg-column [clrDgField]="'subsection'" clrDgSortIcon clrDgSortNoSearch>
        {{'Subsection' | translate}}
        <span class="column-label"></span>
    </clr-dg-column>
    <clr-dg-column [clrDgField]="'information'" clrDgSortIcon clrDgSortNoSearch>
        {{'Information' | translate}}
        <span class="column-label"></span>
    </clr-dg-column>
    <clr-dg-column [clrDgField]="'oldValue'" clrDgSortIcon clrDgSortNoSearch>
        {{'Old Value' | translate}}
        <span class="column-label"></span>
    </clr-dg-column>
    <clr-dg-column [clrDgField]="'newValue'" clrDgSortIcon clrDgSortNoSearch>
        {{'New Value' | translate}}
        <span class="column-label"></span>
    </clr-dg-column>
    <clr-dg-column [clrDgField]="'modifiedBy'" clrDgSortIcon clrDgSortNoSearch>
        {{'Modified By' | translate}}
        <span class="column-label"></span>
    </clr-dg-column>
    <clr-dg-column [clrDgField]="'date'" clrDgSortIcon clrDgSortNoSearch>
        {{'Date' | translate}}
        <span class="column-label"></span>
    </clr-dg-column>


    <clr-dg-row *clrDgItems="let item of filteredInformationAuditItems">
        <clr-dg-cell>{{item.section}}</clr-dg-cell>
        <clr-dg-cell>{{item.subsection}}</clr-dg-cell>
        <clr-dg-cell>{{item.modifiedField}}</clr-dg-cell>
        <clr-dg-cell>{{item.oldValue}}</clr-dg-cell>
        <clr-dg-cell>{{item.newValue}}</clr-dg-cell>
        <clr-dg-cell>{{item.modifiedBy}}</clr-dg-cell>
        <clr-dg-cell>{{item.dateModified}}</clr-dg-cell>

    </clr-dg-row>

    <clr-dg-footer>
        <clr-dg-pagination #pagination [clrDgPageSize]="10"></clr-dg-pagination>
    </clr-dg-footer>
</clr-datagrid>