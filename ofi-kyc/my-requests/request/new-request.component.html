<div class="header-breadcrumbs">
    <h1 class="text-overflow">
        <i class="fa fa-plus"></i>
        <span id="new-request-title">{{ 'Make New Request' | translate }}</span>
    </h1>
</div>

<div class="p-1">
    <clr-alert [clrAlertSizeSmall]="true" [clrAlertType]="'alert-danger'" [clrAlertClosable]="false">
        <div class="alert-item">
            <span class="alert-text">
                {{ 'Please note that the information provided will remain strictly confidential and will only be shared with the Asset Management Companies you have selected.' | translate }}
            </span>
        </div>
    </clr-alert>
</div>

<form-steps *ngIf="stepsConfig" [stepsConfig]="stepsConfig" (action)="handleAction($event)" [@toggle]="animating" (@toggle.done)="applyFullForm()">
    <form-step>
        <kyc-step-select-amc #step [form]="forms.get('selection')" [alreadyRegistered]="!fullForm" (registered)="registered($event)" [disabled]="currentCompletedStep" (submitEvent)="handleSubmit($event)"></kyc-step-select-amc>
    </form-step>
    <form-step *ngIf="fullForm">
        <kyc-step-introduction #step (submitEvent)="handleSubmit($event)"></kyc-step-introduction>
    </form-step>
    <form-step *ngIf="fullForm">
        <kyc-step-identification #step [form]="forms.get('identification')" [investorType]="investorType" (submitEvent)="handleSubmit($event)"></kyc-step-identification>
    </form-step>
    <form-step *ngIf="fullForm">
        <kyc-step-risk-profile #step [form]="forms.get('riskProfile')" (submitEvent)="handleSubmit($event)"></kyc-step-risk-profile>
    </form-step>
    <form-step *ngIf="fullForm">
        <kyc-step-documents #step [form]="forms.get('documents')" [isPro]="isPro" (submitEvent)="handleSubmit($event)"></kyc-step-documents>
    </form-step>
    <form-step>
        <kyc-step-validation #step [form]="forms.get('validation')" (submitEvent)="handleSubmit($event)"></kyc-step-validation>
    </form-step>
</form-steps>

<div class="info" *ngIf="isBeginning()">
    <clr-icon shape="info-circle" class="is-info" size="24"></clr-icon>
    <span>
        {{ 'Be aware that once you click on "Next", this KYC will be saved as a Draft in the module "My Requests". You will then be able to finalise the request and send it to the Asset ManagementÂ Company later on.' | translate }}
    </span>
</div>
