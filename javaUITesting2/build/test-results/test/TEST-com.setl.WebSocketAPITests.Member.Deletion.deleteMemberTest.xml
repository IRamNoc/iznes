<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.setl.WebSocketAPITests.Member.Deletion.deleteMemberTest" tests="1" skipped="0" failures="1" errors="0" timestamp="2017-12-05T17:38:00" hostname="Bills-iMac.local" time="3.006">
  <properties/>
  <testcase name="deleteMemberTest" classname="com.setl.WebSocketAPITests.Member.Deletion.deleteMemberTest" time="3.006">
    <failure message="org.junit.runners.model.TestTimedOutException: test timed out after 3000 milliseconds" type="org.junit.runners.model.TestTimedOutException">org.junit.runners.model.TestTimedOutException: test timed out after 3000 milliseconds
	at sun.misc.Unsafe.park(Native Method)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)
	at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)
	at SETLAPIHelpers.WebSocketAPI.MemberHelper.deleteMember(MemberHelper.java:129)
	at com.setl.WebSocketAPITests.Member.Deletion.deleteMemberTest.deleteMemberTest(deleteMemberTest.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:745)
</failure>
  </testcase>
  <system-out><![CDATA[Sending message :153 bytes
message : {"RequestID":1001,"Version":2,"Request":"startRequest","Data":"262065f4ab1d0852ae6fd54dae0b5dbfd6b1052b5ed3a93f4009445dbd96f37f","MessageType":"Response"}
res::30680f66578e98d37ef32adb794514dbdc0bccfc2df7418624b4fa8ae4435560
Sending message :320 bytes
message : {"Status":"Locked","Data":[{"Token":"fail","Status":"Locked","Message":"","UserName":"","UserID":0,"EMailAddress":"","useTwoFactor":0,"copyMailToEmail":0,"admin":0,"userType":0,"accontID":0,"accountName":"","memberID":0,"last_login":null,"apiKey":null,"investorType":0,"platformAddr":"","defaultAddress":"","defaultWalletID":0}],"MessageType":"Response","Request":"login","RequestID":1002,"Version":2}
Sending message :300 bytes
message : {"Status":"Fail","Data":[{"Status":"Fail","Message":"Permission denied."}],"MessageType":"Response","Request":"newMember","RequestID":1003,"Version":2}
Sending message :236 bytes
message : {"Status":"OK","Data":{"Status":"Fail","Message":{"code":"ER_TRUNCATED_WRONG_VALUE_FOR_FIELD","errno":1366,"sqlMessage":"Incorrect integer value: 'null' for column 'thisMemberID' at row 1","sqlState":"HY000","index":0,"sql":"call sp_tblMembers_Delete('fail','null')"}},"MessageType":"Response","Request":"deleteMember","RequestID":1004,"Version":2}
]]></system-out>
  <system-err><![CDATA[java.lang.ClassCastException: org.json.simple.JSONObject cannot be cast to org.json.simple.JSONArray
	at SETLAPIHelpers.WebSocketAPI.MemberHelper.lambda$deleteMember$4(MemberHelper.java:119)
	at io.setl.wsclient.socketsrv.SocketServerEndpoint.handleJson(SocketServerEndpoint.java:89)
	at io.setl.wsclient.shared.AbstractServerEndPoint.onMessage(AbstractServerEndPoint.java:57)
	at io.setl.wsclient.shared.AbstractServerEndPoint.onMessage(AbstractServerEndPoint.java:66)
	at io.setl.wsclient.shared.AbstractServerEndPoint.handleMesage(AbstractServerEndPoint.java:23)
	at io.setl.wsclient.scluster.SetlSocketClusterClient.ackCall(SetlSocketClusterClient.java:50)
	at io.setl.utils.cluster.SocketCluster.handleStringMessage(SocketCluster.java:110)
	at io.setl.utils.cluster.SocketCluster.handleMessage(SocketCluster.java:159)
	at io.setl.utils.cluster.SocketCluster.onTextMessage(SocketCluster.java:91)
	at io.setl.utils.cluster.trasport.impl.JettyWsWrapper.onMessage(JettyWsWrapper.java:90)
	at sun.reflect.GeneratedMethodAccessor18.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.eclipse.jetty.websocket.common.events.annotated.CallableMethod.call(CallableMethod.java:71)
	at org.eclipse.jetty.websocket.common.events.annotated.OptionalSessionCallableMethod.call(OptionalSessionCallableMethod.java:72)
	at org.eclipse.jetty.websocket.common.events.JettyAnnotatedEventDriver.onTextMessage(JettyAnnotatedEventDriver.java:234)
	at org.eclipse.jetty.websocket.common.message.SimpleTextMessage.messageComplete(SimpleTextMessage.java:69)
	at org.eclipse.jetty.websocket.common.events.AbstractEventDriver.appendMessage(AbstractEventDriver.java:66)
	at org.eclipse.jetty.websocket.common.events.JettyAnnotatedEventDriver.onTextFrame(JettyAnnotatedEventDriver.java:226)
	at org.eclipse.jetty.websocket.common.events.AbstractEventDriver.incomingFrame(AbstractEventDriver.java:162)
	at org.eclipse.jetty.websocket.common.WebSocketSession.incomingFrame(WebSocketSession.java:375)
	at org.eclipse.jetty.websocket.common.extensions.ExtensionStack.incomingFrame(ExtensionStack.java:220)
	at org.eclipse.jetty.websocket.common.Parser.notifyFrame(Parser.java:220)
	at org.eclipse.jetty.websocket.common.Parser.parse(Parser.java:256)
	at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.readParse(AbstractWebSocketConnection.java:679)
	at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:511)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:279)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)
	at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:128)
	at org.eclipse.jetty.util.thread.Invocable$InvocableExecutor.invoke(Invocable.java:222)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:294)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:199)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)
	at java.lang.Thread.run(Thread.java:745)
]]></system-err>
</testsuite>
