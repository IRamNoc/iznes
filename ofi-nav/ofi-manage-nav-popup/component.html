<clr-modal [(clrModalOpen)]="isOpen">
    <h3 class="modal-title">
        <span id="add-nav-title" class="ml_translated" *ngIf="isAddMode()">{{'Add New NAV' | translate}}</span>
        <span id="edit-nav-title" class="ml_translated" *ngIf="isEditMode()">{{'Edit NAV' | translate}}</span>
        <span id="delete-nav-title" class="ml_translated" *ngIf="isDeleteMode()">{{'Delete NAV' | translate}}</span>
    </h3>
    <div class="modal-body">
        <form [formGroup]="navForm" *ngIf="isOpen && navForm">
            <div class="row">
                <div class="form-group col-sm-12">
                    <label class="control-label" for="shareName-nav">{{'Share name' | translate}}</label>
                    <input type="text" id="shareName-nav" name="shareName" value="{{share.fundShareName}}" readonly>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label" for="isin-nav">{{'ISIN' | translate}}</label>
                    <input type="text" id="isin-nav" name="isin" value="{{share.isin}}" readonly>
                </div>

                <div class="row">
                    <div class="form-group col-sm-8">
                        <label class="control-label" for="lastest-nav" *ngIf="!isDeleteMode()">{{'Latest NAV' | translate}}</label>
                        <label class="control-label" for="nav" *ngIf="isDeleteMode()">{{'NAV' | translate}}</label>
                        <input type="text" id="{{(isDeleteMode()? 'nav' : 'latest-nav' )}}" name="nav" disabled formControlName="nav">


                        <div class="form-group col-sm-4">
                            <label class="control-label">{{'&nbsp;' | translate}}
                                <input type="text" id="Currency-nav-btn" name="navCurrency" value="{{getCurrencyString(share.currency)}}" readonly>



                                <div class="form-group col-sm-12" *ngIf="!isDeleteMode()">
                                    <label class="control-label" for="Set-nav-field">{{'NAV' | translate}}
                                        <input id="Set-nav-field" type="text" name="nav" formControlName="price">
                                        <div class="field-error" *ngIf="navForm.controls['price'].dirty && navForm.controls['price'].hasError('invalidNumber')">{{'Incorrect value' | translate}}




                                            <span id="Set-nav-caution" class="text-danger" [hidden]="!navExceedsThreshold">{{'Caution: the NAV is being modified by more than 10%.' | translate}}


                                                <div class="form-group col-sm-6">
                                                    <label class="control-label" for="Date-nav-btn">{{'NAV Date' | translate}}
                                                        <div class="input-group date-pick-wrapper">
                                                            <span class="fa fa-calendar" [class.disabled]="isEditMode() || isDeleteMode()">
                                                                <input id="Date-nav-btn" name="navDate" [placeholder]="_translate.translate('Select date')" formControlName="navDate" [dpDayPicker]="navDateConfig" mode="day" theme="dp-material" #navDatePicker>



                                                                <div class="form-group col-sm-6">
                                                                    <label class="control-label" for="PublicationDate-nav-btn">{{'Publication Date' | translate}}
                                                                        <div class="input-group date-pick-wrapper">
                                                                            <span class="fa fa-calendar" [class.disabled]="isEditMode() || isDeleteMode()">
                                                                                <input id="PublicationDate-nav-btn" name="navPublishDate" [placeholder]="_translate.translate('Select date')" formControlName="navPubDate" [dpDayPicker]="navPublishDateConfig" mode="day" theme="dp-material" #navPublishDatePicker>



                                                                                <div class="form-group col-sm-12">
                                                                                    <label class="control-label" for="Status-nav-btn">{{'Status' | translate}}
                                                                                        <ng-select id="Status-nav-btn" class="fluid-width" [disabled]="navForm.controls['status'].disabled" [items]="statusItems" formControlName="status" [allowClear]="false" [placeholder]="_translate.translate('Select status')">



                                                                                            <span id="Warning-nav-msg" class="text-danger">{{'Warning: If you click "validate", the NAV will be modified at the selected date.' | translate}}






                                                                                                <div class="modal-footer">
                                                                                                    <button id="Cancel-nav-btn" class="btn btn-secondary" (click)="close()">{{'Cancel' | translate}}


                                                                                                        <button id="Validate-nav-btn" class="btn btn-primary" *ngIf="!isDeleteMode()" [disabled]="!navFormValid()" (click)="updateNav()">{{'Validate' | translate}}


                                                                                                            <button id="Delete-nav-btn" class="btn btn-primary" *ngIf="isDeleteMode()" (click)="deleteNav()">{{'Delete' | translate}}