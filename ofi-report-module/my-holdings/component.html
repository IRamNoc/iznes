<div class="header-breadcrumbs">
    <h1><i class="fa fa-list-ul"></i> {{'My holdings' | translate}}</h1>
</div>

<clr-tabs>
    <clr-tab>
        <button id="my-holdings-list-btn" clrTabLink>
            <i class="fa fa-th-list"></i> {{'List' | translate}}
        </button>
        <clr-tab-content *clrIfActive>
            <section class="form-block">

                <form [formGroup]="searchForm" id="search-orders-form">
                    <div class="form-horizontal">
                        <div class="row bordered">
                            <div class="form-group col-sm-6">
                                <label>{{'Asset Management Company' | translate}}</label>
                                <div class="input-button-group">
                                    <ng-select id="my-holdings-search-field" [items]="managementCompanyList" [allowClear]="true" [placeholder]="_translate.translate('Asset Management Company')" [formControl]="searchForm.controls['search']"></ng-select>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

                <div class="hr-line-dashed"></div>

                <clr-datagrid clrDgSortIcon>
                    <clr-dg-column [clrDgField]="'amManagementCompanyID'" clrDgSortIcon>
                        <span>{{'Asset Management Company' | translate}}</span> <span class="column-label"></span>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'fundShareName'" clrDgSortIcon>
                        {{'Share Name' | translate}} <span class="column-label"></span>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'isin'" clrDgSortIcon>
                        {{'ISIN' | translate}} <span class="column-label"></span>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'shareClassCurrency'" clrDgSortIcon>
                        {{'Share Currency' | translate}} <span class="column-label"></span>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'quantity'" clrDgSortIcon>
                        {{'Quantity' | translate}} <span class="column-label"></span>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'latestNav'" clrDgSortIcon>
                        {{'Last NAV' | translate}} <span class="column-label"></span>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'amount'" clrDgSortIcon>
                        {{'Amount' | translate}} <span class="column-label"></span>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'ratio'" clrDgSortIcon>
                        {{'Ratio' | translate}} <span class="column-label"></span>
                    </clr-dg-column>

                    <clr-dg-row *ngFor="let data of holdingsList">
                        <clr-dg-cell>{{data.companyName}}</clr-dg-cell>
                        <clr-dg-cell>{{data.fundShareName}}</clr-dg-cell>
                        <clr-dg-cell>{{data.isin}}</clr-dg-cell>
                        <clr-dg-cell>{{showCurrency(data.shareClassCurrency)}}</clr-dg-cell>
                        <clr-dg-cell>{{data.quantity | moneyValue: 5 }}</clr-dg-cell>
                        <clr-dg-cell>{{data.latestNav | moneyValue: 2}}</clr-dg-cell>
                        <clr-dg-cell>{{data.amount | moneyValue: 5}}</clr-dg-cell>
                        <clr-dg-cell>{{data.ratio | moneyValue: 2}}%</clr-dg-cell>
                    </clr-dg-row>

                    <clr-dg-footer>
                        <clr-dg-pagination #pagination [clrDgPageSize]="20"></clr-dg-pagination>
                    </clr-dg-footer>
                </clr-datagrid>
            </section>
        </clr-tab-content>
    </clr-tab>
</clr-tabs>
