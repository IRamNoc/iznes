<div class="header-breadcrumbs">
    <h1 id="manage-orders"><i class="fa fa-list-ul"></i>
        <span mltag="txt_orderbook">Order Book</span> - {{ connectedWalletName }}</h1>
</div>

<!--<button type="button" class="btn btn-info m-1" (click)="placeFakeOrder()">Place a fake Order</button>-->

<div class="wrapper wrapper-content">

    <clr-tabs *ngIf="tabsControl.length">
        <clr-tab *ngFor="let tabdata of tabsControl; let id = index">
            <button clrTabLink id="-{{id}}" [routerLink]="['/manage-orders', (id === 0) ? 'list' : tabdata.orderData.orderID]">
                <i class="fa {{tabdata.title.icon}}"></i> {{tabdata.title.text}}
                <i class="fa fa-times-circle text-warning" *ngIf="id > 0" id="orderCloseTabBtn_{{id}}" (click)="closeTab(id)" [ngStyle]="{'margin-left': '14px', 'font-size':'18px'}"></i>
            </button>
            <clr-tab-content *clrIfActive="tabdata.active">
                <ng-container *ngIf="id === 0">
                    <!-- Coupon list tab. -->
                    <ng-container *ngTemplateOutlet="staticOrdersList">

                    </ng-container>
                </ng-container>

                <ng-container *ngIf="id >= 1">
                    <!-- Create new tab -->
                    <ng-container *ngTemplateOutlet="dynamicViewOrder; context: {'orderData': tabdata.orderData, 'tabid': id}">

                    </ng-container>
                </ng-container>
            </clr-tab-content>
        </clr-tab>
    </clr-tabs>

    <!-- Orders Data Table. -->
    <ng-template #staticOrdersList>
        <div class="panel-body">

            <form [formGroup]="tabsControl[0].searchForm" id="search-orders-form" (keydown.enter)="$event.preventDefault()">
                <div class="form-horizontal">
                    <div class="row bordered">
                        <div class="form-group col-sm-3">
                            <label>
                                <span mltag="txt_isin">ISIN</span>
                            </label>
                            <div class="input-button-group">
                                <input id="orders-search-isin" [formControl]="tabsControl[0].searchForm.controls['isin']" name="search-sharename" type="text" placeholder="ISIN" style="width: 100% !important" mltag="txt_isin">
                            </div>
                        </div>
                        <div class="form-group col-sm-3">
                            <label>
                                <span mltag="txt_sharename">Share Name</span>
                            </label>
                            <div class="input-button-group">
                                <input id="orders-search-sharename" [formControl]="tabsControl[0].searchForm.controls['sharename']" name="search-sharename" type="text" placeholder="Share Name" style="width: 100% !important" mltag="txt_sharename">
                            </div>
                        </div>
                        <div class="form-group col-sm-3">
                            <label>
                                <span mltag="txt_status">Status</span>
                            </label>
                            <div>
                                <ng-select id="orders-search-status" class="fluid-width" [items]="orderStatuses" [allowClear]="true" [formControl]="tabsControl[0].searchForm.controls['status']" placeholder="Status" mltag="txt_status">
                                </ng-select>
                            </div>
                        </div>
                        <div class="form-group col-sm-3">
                            <label>
                                <span mltag="txt_ordertype">Order type</span>
                            </label>
                            <div>
                                <ng-select id="orders-search-type" class="fluid-width" [items]="orderTypes" [allowClear]="true" [formControl]="tabsControl[0].searchForm.controls['type']" placeholder="Type" mltag="txt_type">
                                </ng-select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-9">
                            <div class="well mb-1">
                                <!-- Panel header -->
                                <div class="row panel-header">
                                    <div class="col-xs-6">
                                        <a href="#" (click)="isOptionalFilters = !isOptionalFilters; $event.preventDefault();">

                                            <i class="fa fa-chevron-right" [class.rotate]="isOptionalFilters"></i>
                                            <h2 mltag="txt_optionalfilters">Optional filters</h2>
                                        </a>
                                    </div>
                                </div>

                                <!-- Panel body -->
                                <div class="row panel-body" [class.hidden]="!isOptionalFilters">
                                    <div class="form-group col-sm-4">
                                        <label>
                                            <span mltag="txt_datetype">Date Type</span>
                                        </label>
                                        <div>
                                            <ng-select id="orders-search-date-types" class="fluid-width" [items]="dateTypes" [allowClear]="true" [formControl]="tabsControl[0].searchForm.controls['dateType']" placeholder="Type" mltag="txt_type">
                                            </ng-select>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-4">
                                        <label for="orders-search-from-date">
                                            <span mltag="txt_fromdate">From date</span>
                                        </label>
                                        <div class="input-group date-pick-wrapper">
                                            <span class="fa fa-calendar" aria-hidden="true"></span>
                                            <input id="orders-search-from-date" formControlName="fromDate" [dpDayPicker]="configDate" placeholder="Choose a date" mode="day" theme="dp-material" mltag="txt_chooseadate">

                                        </div>
                                    </div>
                                    <div class="form-group col-sm-4">
                                        <label for="orders-search-to-date">
                                            <span mltag="txt_todate">To date</span>
                                        </label>
                                        <div class="input-group date-pick-wrapper">
                                            <span class="fa fa-calendar" aria-hidden="true"></span>
                                            <input id="orders-search-to-date" formControlName="toDate" [dpDayPicker]="configDate" placeholder="Choose a date" mode="day" theme="dp-material" mltag="txt_chooseadate">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-sm-3">
                            <div class="text-right">
                                <button class="btn btn-success nomargin" (click)="exportOrders()">
                                    <i class="fa fa-download"></i> <span mltag="txt_exportorderscsv">Export Orders CSV</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <clr-datagrid (clrDgRefresh)="refresh($event)" [clrDgLoading]="loading" clrDgSortIcon #ordersDataGrid>
                    <clr-dg-column [clrDgField]="'orderRef'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_orderref">Order Ref</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'orderType'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_ordertype">Order Type</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'investor'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_investor">Investor</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'isin'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_isin">ISIN</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'shareName'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_sharename">Share Name</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'assetManagementCompany'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: true}">
                            <span mltag="txt_assetmanagementcompany">Asset Management Company</span>
                            <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'shareCurrency'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_sharecurrency">Share Currency</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'quantity'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_quantity">Quantity</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'latestNAV'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: true}">
                            <span mltag="txt_latestnav">Latest NAV</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'grossAmount'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_grossamount">Gross Amount</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'feesAmount'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: true}">
                            <span mltag="txt_feesamount">Fees Amount</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'orderDate'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_orderdate">Order Date</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'cutOffDate'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_cutoffdate">Cut-off Date</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'navDate'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: true}">
                            <span mltag="txt_navdate">NAV Date</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'settlementDate'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_settlementdate">Settlement Date</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <clr-dg-column [clrDgField]="'orderStatus'" clrDgSortIcon clrDgSortNoSearch>
                        <ng-container *clrDgHideableColumn="{hidden: false}">
                            <span mltag="txt_status">Status</span> <span class="column-label"></span>
                        </ng-container>
                    </clr-dg-column>
                    <!-- ACTIONS -->
                    <clr-dg-column><span class="text-center" mltag="txt_cancel">Cancel?</span></clr-dg-column>

                    <clr-dg-row *ngFor="let order of ordersList; let i = index">
                        <clr-dg-cell>
                            <!-- orderRef -->
                            <a (click)="buildLink(order, i)" class="fakeLink">{{getOrderRef(order.orderID)}}

                            </a>
                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- orderType -->
                            <span *ngIf="order.orderType == 3" mltag="txt_subscription">Subscription</span>
                            <span *ngIf="order.orderType == 4" mltag="txt_redemption">Redemption</span>
                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- investor {{showInvestor(order)}} -->
                            {{order.investorCompanyName}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- isin -->{{order.isin}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- shareName -->{{order.fundShareName}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- assetManagementCompany -->{{order.amCompanyName}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- shareCurrency -->{{showCurrency(order)}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- quantity -->{{ order.quantity | moneyValue: 5}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- latestNAV -->{{ order.price | moneyValue: 4}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- grossAmount -->{{ order.amountWithCost | moneyValue: 4}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- feesAmount -->{{ order.fee | moneyValue: 4}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- orderDate -->{{getDateTime(order.orderDate)}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- cutOffDate -->{{ getDateTime(order.cutoffDate) }}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- NAVDate -->{{getOnlyDate(order.valuationDate)}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <!-- settlementDate -->{{getOnlyDate(order.settlementDate)}}

                        </clr-dg-cell>
                        <clr-dg-cell>
                            <span *ngIf="order.orderStatus == 1" class="label label-warning">
                                <span mltag="txt_initiated">Initiated</span>
                            </span>
                            <span *ngIf="order.orderStatus == 2" class="label label-info">
                                <span mltag="txt_waitingnav">Waiting NAV</span>
                            </span>
                            <span *ngIf="order.orderStatus == 3" class="label label-info">
                                <span mltag="txt_waitingsettlement">Waiting settlement</span>
                            </span>
                            <span *ngIf="order.orderStatus == 4 && order.orderUnpaid == false" class="label label-error">
                                <span mltag="txt_unpaid">Unpaid</span>
                            </span>
                            <span *ngIf="order.orderStatus == 4 && order.orderUnpaid == true" class="label label-info">
                                <span mltag="txt_waitingsettlement">Waiting settlement</span>
                            </span>
                            <span *ngIf="order.orderStatus == -1" class="label label-success">
                                <span mltag="txt_settled">Settled</span>
                            </span>
                            <span *ngIf="order.orderStatus == 0" class="label label-error">
                                <span mltag="txt_cancelled">Cancelled</span>
                            </span>
                        </clr-dg-cell>
                        <clr-dg-cell [ngSwitch]="order.orderStatus">
                            <!--&lt;!&ndash; Actions &ndash;&gt;-->
                            <!--<button type="button" *ngIf="order.orderStatus == 1; else cancelDisabled" (click)="cancelOrder(i)" class="btn btn-sm btn-danger" mltag="txt_cancel">Cancel</button>-->
                            <!--<ng-template #cancelDisabled>-->
                            <!--<button type="button" class="btn btn-sm btn-info" disabled mltag="txt_cancel">Cancel</button>-->
                            <!--</ng-template>-->

                            <button type="button" class="btn btn-sm btn-danger" (click)="cancelOrder(i)" mltag="txt_cancel" *ngSwitchCase="1">Cancel</button>
                            <ng-container *ngSwitchCase="4">
                                <button type="button" *ngIf="isInvestorUser" class="btn btn-sm btn-info" disabled mltag="txt_cancel">Cancel</button>
                                <button type="button" *ngIf="!isInvestorUser" class="btn btn-sm btn-primary" mltag="txt_settle" (click)="settleOrder(i)">Settle</button>
                            </ng-container>
                            <button type="button" class="btn btn-sm btn-info" disabled mltag="txt_cancel" *ngSwitchDefault>Cancel</button>

                        </clr-dg-cell>
                        <clr-dg-row-detail *clrIfExpanded>
                            <div class="additionalInfos">
                                <div class="row">
                                    <div class="form-group col-sm-3">
                                        <table>
                                            <tbody>
                                            <tr>
                                                <td><b mltag="txt_assetmanagementcompany">Asset Management Company</b>
                                                </td>
                                                <td>{{order.amCompanyName}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="form-group col-sm-3">
                                        <table>
                                            <tbody>
                                            <tr>
                                                <td><b mltag="txt_latestnav">Latest NAV</b></td>
                                                <td>{{order.price | moneyValue: 4}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="form-group col-sm-3">
                                        <table>
                                            <tbody>
                                            <tr>
                                                <td><b mltag="txt_feesamount">Fees Amount</b></td>
                                                <td>{{order.fee | moneyValue: 4}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="form-group col-sm-3">
                                        <table>
                                            <tbody>
                                            <tr>
                                                <td><b mltag="txt_navdate">NAV Date</b></td>
                                                <td>{{getOnlyDate(order.valuationDate)}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </clr-dg-row-detail>
                    </clr-dg-row>

                    <clr-dg-footer>
                        <!-- Optional customization of hide/show columns toggle -->
                        <clr-dg-column-toggle>
                            <clr-dg-column-toggle-title>
                                <span><span mltag="txt_showhidefields">Show/hide fields</span>:</span>
                            </clr-dg-column-toggle-title>
                            <!--<clr-dg-column-toggle-button clrType="selectAll">-->
                            <!--<button type="button" class="btn btn-primary">-->
                            <!--Select All-->
                            <!--</button>-->
                            <!--</clr-dg-column-toggle-button>-->
                            <clr-dg-column-toggle-button clrType="ok">
                                <button type="button" class="btn btn-primary" style="padding:0 20px">
                                    <clr-icon shape="check"></clr-icon>
                                </button>
                            </clr-dg-column-toggle-button>
                        </clr-dg-column-toggle>
                        <!--{{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}-->
                        <clr-dg-pagination #pagination [clrDgPageSize]="itemPerPage" [clrDgLastPage]="lastPage"></clr-dg-pagination>
                    </clr-dg-footer>
                </clr-datagrid>
            </form>
        </div>
    </ng-template>

    <!-- Orders Data Table. -->
    <ng-template #dynamicViewOrder let-orderData="orderData" let-tabid="tabid">
        <div class="panel-body">

            <!--<div class="m-1">{{orderData | json}}</div>-->
            <!--<div class="m-1">{{fundShare | json}}</div>-->

            <div class="well mb-1">
                <!-- Panel header -->
                <div class="row panel-header">
                    <div class="col-xs-6">
                        <a href="#" (click)="clientInformation  = !clientInformation ; $event.preventDefault();">
                            <i class="fa fa-chevron-right" [class.rotate]="clientInformation "></i>
                            <h2 mltag="txt_clientinformation">Client Information</h2>
                        </a>
                    </div>
                </div>

                <!-- Panel body -->
                <div class="panel-body" [class.hidden]="!clientInformation">
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_companyname">Company name</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{orderData.investorCompanyName}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="well ml-1">
                        <!-- Panel header -->
                        <div class="row panel-header">
                            <div class="col-xs-6">
                                <a href="#" (click)="clientDetailsInformation  = !clientDetailsInformation ; $event.preventDefault();">
                                    <i class="fa fa-chevron-right" [class.rotate]="clientDetailsInformation "></i>
                                    <h2 mltag="txt_details">Details</h2>
                                </a>
                            </div>
                        </div>

                        <!-- Panel body -->
                        <div class="panel-body" [class.hidden]="!clientDetailsInformation">
                            <div class="form-group col-sm-12">
                                <div class="row mb-1">
                                    <div class="form-group col-sm-6">
                                        <label>
                                            <span mltag="txt_firstname">First name</span>
                                        </label>
                                        <div>
                                            <span class="readonly-field">{{orderData.firstName}}</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-6">
                                        <label>
                                            <span mltag="txt_lastname">Last name</span>
                                        </label>
                                        <div>
                                            <span class="readonly-field">{{orderData.lastName}}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="well mb-1">
                <!-- Panel header -->
                <div class="row panel-header">
                    <div class="col-xs-6">
                        <a href="#" (click)="generalInvestmentInformation  = !generalInvestmentInformation ; $event.preventDefault();">
                            <i class="fa fa-chevron-right" [class.rotate]="generalInvestmentInformation "></i>
                            <h2 mltag="txt_generalinvestmentinformation">General Investment Information</h2>
                        </a>
                    </div>
                </div>

                <!-- Panel body -->
                <div class="panel-body" [class.hidden]="!generalInvestmentInformation">
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_assetmanagementcompany">Asset Management Company</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{orderData.amCompanyName}}</span>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_investor">Investor</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{showInvestor(orderData)}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_entryexitfees">(Entry/Exit) fees</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{orderData.feePercentage | moneyValue : 2}}%</span>
                            </div>
                        </div>
                    </div>
                    <div class="well ml-1">
                        <!-- Panel header -->
                        <div class="row panel-header">
                            <div class="col-xs-6">
                                <a href="#" (click)="mifid  = !mifid ; $event.preventDefault();">
                                    <i class="fa fa-chevron-right" [class.rotate]="mifid "></i>
                                    <h2 mltag="txt_mifidiicostscharges">MIFID II Costs & Charges</h2>
                                </a>
                            </div>
                        </div>

                        <!-- Panel body -->
                        <div class="panel-body" [class.hidden]="!mifid">
                            <div class="form-group col-sm-12">
                                <div class="row mb-1">
                                    <div class="form-group col-sm-6">
                                        <label>
                                            <span mltag="txt_oneoffcharges">One-off charges</span>
                                        </label>
                                        <div>
                                            <span class="readonly-field">{{fundShare.mifiidChargesOneOff | moneyValue: 2 }} %</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-6">
                                        <label>
                                            <span mltag="txt_ongoingcharges">Ongoing charges</span>
                                        </label>
                                        <div>
                                            <span class="readonly-field">{{fundShare.mifiidChargesOngoing | moneyValue: 2 }} %</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <div class="form-group col-sm-6">
                                        <label>
                                            <span mltag="txt_costsrelatedtotransactionsinitd82e13ff15">Costs related to transactions initiated</span>
                                        </label>
                                        <div>
                                            <span class="readonly-field">{{fundShare.mifiidTransactionCosts | moneyValue: 2 }} %</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-6">
                                        <label>
                                            <span mltag="txt_chargesrelatedtoancillaryservi31f9ae522d">Charges related to ancillary services</span>
                                        </label>
                                        <div>
                                            <span class="readonly-field">{{fundShare.mifiidServicesCosts | moneyValue: 2 }} %</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <div class="form-group col-sm-6">
                                        <label>
                                            <span mltag="txt_incidentalcosts">Incidental costs</span>
                                        </label>
                                        <div>
                                            <span class="readonly-field">{{fundShare.mifiidIncidentalCosts | moneyValue: 2}} %</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="well mb-1">
                <!-- Panel header -->
                <div class="row panel-header">
                    <div class="col-xs-6">
                        <a href="#" (click)="productInformation  = !productInformation ; $event.preventDefault();">
                            <i class="fa fa-chevron-right" [class.rotate]="productInformation "></i>
                            <h2 mltag="txt_productinformation">Product Information</h2>
                        </a>
                    </div>
                </div>

                <!-- Panel body -->
                <div class="panel-body" [class.hidden]="!productInformation">
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_isin">ISIN</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{orderData.isin}}</span>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_sharename">Share Name</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{orderData.fundShareName}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_assetclass">Asset Class</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{fundShare.shareClassCode}}</span>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_srri">SRRI</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{fundShare.keyFactOptionalData.srri}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_sri">SRI</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{fundShare.keyFactOptionalData.sri}}</span>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_sharecurrency">Share Currency</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{showCurrency(orderData)}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_nav">NAV</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{orderData.price | moneyValue: 4}}</span>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_navdate">NAV Date</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{getOnlyDate(orderData.valuationDate)}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_decimalization">Decimalization</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{fundShare.decimalization}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="well mb-1">
                <!-- Panel header -->
                <div class="row panel-header">
                    <div class="col-xs-6">
                        <a href="#" (click)="datesInformation  = !datesInformation ; $event.preventDefault();">
                            <i class="fa fa-chevron-right" [class.rotate]="datesInformation "></i>
                            <h2 mltag="txt_datesinformation">Dates Information</h2>
                        </a>
                    </div>
                </div>

                <!-- Panel body -->
                <div class="panel-body" [class.hidden]="!datesInformation">
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_orderdate">Order Date</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{ getDateTime(orderData.orderDate)}}</span>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_cutoffdate">Cut-off Date</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{getDateTime(orderData.cutoffDate)}} </span>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_navdate">NAV Date</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{ getOnlyDate(orderData.valuationDate)}}</span>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_settlementdate">Settlement Date</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{getOnlyDate(orderData.settlementDate)}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="well mb-1">
                <!-- Panel header -->
                <div class="row panel-header">
                    <div class="col-xs-6">
                        <a href="#" (click)="orderInformation  = !orderInformation ; $event.preventDefault();">
                            <i class="fa fa-chevron-right" [class.rotate]="orderInformation "></i>
                            <h2 mltag="txt_orderinformation">Order Information</h2>
                        </a>
                    </div>
                </div>

                <!-- Panel body -->
                <div class="panel-body" [class.hidden]="!orderInformation">
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_orderreference">Order Reference</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{ getOrderRef(orderData.orderID)}}</span>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_ordertype">Order Type</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{showTypes(orderData)}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_quantity">Quantity</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{orderData.quantity | moneyValue: 5}}</span>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_amount">Amount</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{orderData.amount | moneyValue: 4}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-1">
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_feeamount">Fee Amount</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{orderData.fee | moneyValue: 4}}</span>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label>
                                <span mltag="txt_netamount">Net Amount</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{orderData.amountWithCost | moneyValue: 4 }}</span>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-1">
                        <div class="form-group col-sm-12">
                            <label>
                                <span mltag="txt_comment">Comment</span>
                            </label>
                            <div>
                                <span class="readonly-field">{{orderData.orderNote}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ng-template>

</div>
