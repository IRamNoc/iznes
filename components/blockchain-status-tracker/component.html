<div id="blockchain-status-tracker" (click)="showStatusModal = true">
    <div class="pending" [class.update]="pendingUpdate">{{ pendingCount }}</div>
    <div class="success" [class.update]="successUpdate">{{ successCount }}</div>
</div>

<!-- Audit Modal -->
<clr-modal [(clrModalOpen)]="showStatusModal" [clrModalSize]="'lg'">
    <h3 class=" modal-title">Blockchain transaction status</h3>
    <div class="modal-body">
        <clr-datagrid #myDataGrid>
            <clr-dg-column class="sm-col">Status</clr-dg-column>
            <clr-dg-column>TX Hash</clr-dg-column>
            <clr-dg-column class="sm-col">Date Requested</clr-dg-column>

            <clr-dg-row *clrDgItems="let tx of objectKeys(txList)">
                <clr-dg-cell class="sm-col">
                    <span *ngIf="txList[tx].success" class="label label-success">Successful</span>
                    <span *ngIf="!txList[tx].success" class="label label-warning">Pending</span>
                </clr-dg-cell>
                <clr-dg-cell>{{ tx }}</clr-dg-cell>
                <clr-dg-cell class="sm-col">{{ txList[tx].dateRequested }}</clr-dg-cell>
            </clr-dg-row>

            <clr-dg-footer>
                <div rowsPerPage="5" (rowsUpdate)="pageSize = $event"></div>
                {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                <clr-dg-pagination #pagination [clrDgPageSize]="pageSize"></clr-dg-pagination>
            </clr-dg-footer>
        </clr-datagrid>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="showStatusModal = false">OK</button>
    </div>
</clr-modal>