<header class="header-6">

    <div class="branding">
        <button (click)="controlMenu()"><i class="fa fa-bars" aria-hidden="true"></i></button>
        <a href="#/home" class="nav-link">
            <img src="{{topbarLogoUrl}}" style="height: 50%;" alt="Topbar logo">
        </a>
    </div>
    <form class="search" [formGroup]="searchForm">
        <!--<label for="search_input">-->
        <!--<input id="search_input" type="text" placeholder="Search for keywords..." mltag="txt_searchforkeywords">-->
        <!--</label>-->
    </form>
    <div class="header-actions">

        <div class="user">
            <img src="assets/images/male.png">
            <p>{{username}}</p>
            <div class="last-login">
                <span mltag="txt_last">Last</span>
                <span>: &nbsp;</span>
                <span>{{lastLogin | date: 'MMM d y HH:mm'}}</span>
            </div>
        </div>

        <div class="wallet">
            <div>
                <ng-select [allowClear]="false" [items]="walletSelectItems" (selected)="selected($event)"
                           (removed)="removed($event)" placeholder="No wallet selected" [formControl]="selectedWalletId"
                           [multiple]="false" inlineLabel="Wallet" inlineLabelMlTag="txt_wallet"
                           mltag="txt_nowalletselected">


                </ng-select>
            </div>
        </div>

        <div class="right-buttons">
            <div class="dropdown">
                <a [routerLink]="['/messages']" class="nav-button dropdown-toggle messages-icon">
                    <clr-icon shape="email" class="icon" [ngClass]="hasMail"></clr-icon>
                    <p mltag="txt_messages">Messages</p>

                    <span *ngIf="unreadMessageCount > 0">{{unreadMessageCount}}</span>
                </a>
            </div>

            <clr-dropdown id="dropdown-user" appClicked appHighlight>
                <div class="nav-button" clrDropdownToggle>
                    <clr-icon shape="user" class="icon"></clr-icon>
                    <p mltag="txt_profile">Profile</p>
                </div>

                <div class="dropdown-menu">
                    <a *ngFor="let item of profileMenu" [routerLink]="[item.router_link]" [id]="item.element_id"
                       clrDropdownItem [attr.mltag]="item.label_txt">{{item.label}}</a>
                </div>
            </clr-dropdown>

            <clr-dropdown class="bottom-right" appClicked>
                <a class="nav-button" clrDropdownToggle id="dropdown-settings">
                    <clr-icon shape="cog" class="icon"></clr-icon>
                    <p mltag="txt_settings">Settings</p>
                </a>
                <div class="dropdown-menu" style="margin-right: 10px">
                    <a clrDropdownItem (click)="toggleSidebar.emit($event)" id="dropdown-btn-lang" mltag="txt_language">Language</a>
                    <a [routerLink]="['/logout']" clrDropdownItem id="dropdown-btn-logout" mltag="txt_logout">Log
                        out</a>
                </div>
            </clr-dropdown>
        </div>

        <button class="header-overflow-trigger" type="button">
            <span></span>
        </button>
    </div>
</header>

<clr-modal [(clrModalOpen)]="showCountdownModal">
    <div class="modal-title">
        <i class="fa fa-exclamation-triangle modal-icon text-warning"></i>
        <h4 class="modal-title-text">
            <span class="ml_translated" mltag="txt_sessionexpiringsoon">Session expiring soon</span></h4>
    </div>
    <div class="modal-body">
        <p><span mltag="txt_yoursessionwillexpirein">Your session will expire in</span> <span class="text-warning">{{remainingSecond && remainingSecond}}</span>
            seconds.
        </p>
        <p><span mltag="txt_press">Press</span> <span
                class="text-primary font-weight-bold ml_translated">continue</span>
            <span mltag="txt_tocontinueusingthissite">to continue using this site.</span>
        </p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="handleExtendSession()">
            <span class="ml_translated" mltag="txt_continue">Continue</span>
        </button>
        <button type="button" class="btn btn-outline" (click)="showCountdownModal = false">
            <span class="ml_translated" mltag="txt_close">Close</span>
        </button>
    </div>
</clr-modal>