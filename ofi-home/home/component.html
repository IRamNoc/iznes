<!-- Breadcrumbs. -->
<div class="header-breadcrumbs">
    <h1 id="ofi-homepage"><i class="fa fa-home"></i> <span mltag="txt_home">Home</span> - {{ connectedWalletName }}</h1>
</div>

<!-- Main content. -->
<div class="wrapper wrapper-content">
    <!-- Navigation buttons. -->
    <div class="row">
        <div class="col-lg-3 col-md-6 col-sm-12">
            <button (click)="beginBalanceJourney()" class="btn btn-primary home-button red">
                <div class="row homescreen_text">
                    <div class="col-sm-4">
                        <i class="fa fa-cubes"></i>
                    </div>
                    <div class="col-sm-8" mltag="txt_balance"> Balance</div>
                </div>
            </button>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-12">
            <button (click)="beginListOfFundsJourney()" class="btn btn-primary home-button green">
                <div class="row homescreen_text">
                    <div class="col-sm-4">
                        <i class="fa fa-line-chart"></i>
                    </div>
                    <div class="col-sm-8" mltag="txt_listoffunds"> List of Funds</div>
                </div>
            </button>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-12">
            <button (click)="beginOrderJourney('precentralised')" class="btn btn-primary home-button yellow">
                <div class="row homescreen_text">
                    <div class="col-sm-4">
                        <i class="fa fa-flag"></i>
                    </div>
                    <div class="col-sm-8" mltag="txt_precentralised"> Precentralised</div>
                </div>
            </button>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-12">
            <button (click)="beginOrderJourney('centralised')" class="btn btn-primary home-button blue">
                <div class="row homescreen_text">
                    <div class="col-sm-4">
                        <i class="fa fa-university"></i>
                    </div>
                    <div class="col-sm-8" mltag="txt_centralised"> Centralised</div>
                </div>
            </button>
        </div>
    </div>

    <!-- Precentralised orders table. -->
    <div class="panel-body">
        <div>
            <i class="fa fa-th-list"></i> <span mltag="txt_precentralisedorders">Precentralised Orders</span></div>

        <hr class="dashed"/>

        <clr-datagrid #ordersDataGrid>
            <clr-dg-column><span mltag="txt_action">Action</span></clr-dg-column>
            <clr-dg-column style="min-width: 170px;"><span mltag="txt_investor">Investor</span></clr-dg-column>
            <clr-dg-column style="min-width: 115px;"><span mltag="txt_ordertype">Order type</span></clr-dg-column>
            <clr-dg-column><span mltag="txt_orderref">Order REF</span></clr-dg-column>
            <clr-dg-column style="min-width: 240px;"><span mltag="txt_fundname">Fund name</span></clr-dg-column>
            <clr-dg-column><span mltag="txt_quantity">Quantity</span></clr-dg-column>
            <clr-dg-column><span mltag="txt_amount">Amount</span></clr-dg-column>
            <clr-dg-column><span mltag="txt_price">Price</span></clr-dg-column>
            <clr-dg-column><span mltag="txt_cutoffdate">Cut-off date</span></clr-dg-column>
            <clr-dg-column><span mltag="txt_deliverydate">Delivery date</span></clr-dg-column>
            <clr-dg-column><span mltag="txt_status">Status</span></clr-dg-column>

            <clr-dg-row *clrDgItems="let order of ordersList">
                <clr-dg-cell>
                    <!-- Action -->
                    <div class="btn-group btn-sm">
                        <!-- View order. -->
                        <button id="order-view-{{order.arrangementID}}" (click)="handleViewOrder(order.arrangementID)" class="btn">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>
                </clr-dg-cell>
                <clr-dg-cell>
                    <!-- Investor -->
                    {{ order.metaData.investorSubPortfolio }}<br/>
                    {{ order.advisorAccountName }}
                </clr-dg-cell>
                <clr-dg-cell>
                    <!-- Order type -->
                    <span *ngIf="order.type == 3" class="label label-info" mltag="txt_subscription"> Subscription</span>
                    <span *ngIf="order.type == 4" class="label label-success" mltag="txt_redemption"> Redemption</span>
                </clr-dg-cell>
                <clr-dg-cell>
                    <!-- Order REF -->
                    {{ padNumberLeft(order.arrangementID, 5) }}
                </clr-dg-cell>
                <clr-dg-cell>
                    <!-- Fund name -->
                    {{ order.metaData.assetISIN }}<br/>
                    {{ order.asset }}
                </clr-dg-cell>

                <clr-dg-cell>
                    <!-- Quantity -->
                    {{ order.metaData.units | moneyValue: 5}}
                </clr-dg-cell>

                <clr-dg-cell>
                    <!-- Amount -->
                    {{ order.metaData.total | moneyValue: 4}}
                </clr-dg-cell>

                <clr-dg-cell>
                    <!-- Price -->
                    {{ order.metaData.price | moneyValue: 4}}
                </clr-dg-cell>
                <clr-dg-cell>
                    <!-- Cut-off date -->
                    {{ order.cutoffDateStr }} <br>
                    <span class="text_small">{{order.cutoffTimeStr}}</span>
                </clr-dg-cell>
                <clr-dg-cell>
                    <!-- Delivery date -->
                    {{ order.deliveryDateStr }}
                </clr-dg-cell>
                <clr-dg-cell>
                    <!-- Status -->
                    <span *ngIf="order.status == 1" class="label label-warning">
                        <span class="txt_initiated" mltag="txt_initiated">Initiated</span>
                    </span>

                    <span *ngIf="order.status == 2" class="label label-info">
                        <span class="ml" mltag="txt_waitingfornav">Waiting for NAV</span>
                    </span>

                    <span *ngIf="order.status == 3" class="label label-info">
                        <span class="txt_waitingnav" mltag="txt_waitingforsettlement">Waiting for settlement</span>
                    </span>

                    <!-- <span *ngIf="order.status == 5" class="label label-info">
                        <span class="txt_waiting_for_payment">Waiting for payment</span>
                    </span> -->

                    <span *ngIf="order.status == 0" class="label label-error">
                        <span class="ml" mltag="txt_cancelled">Cancelled</span>
                    </span>

                    <span *ngIf="order.status == -1" class="label label-success">
                        <span class="ml" mltag="txt_ordersettled">Order settled</span>
                    </span>

                    <span *ngIf="order.status == -2" class="label label-error">
                        <span class="ml" mltag="txt_orderexpired">Order expired</span>
                    </span>
                </clr-dg-cell>
            </clr-dg-row>

            <clr-dg-footer>
                {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                <clr-dg-pagination #pagination [clrDgPageSize]="10"></clr-dg-pagination>
            </clr-dg-footer>
        </clr-datagrid>
    </div>
</div>

<!--<div class="wrapper wrapper-content">-->
    <!--<form [formGroup]="pipeForm" novalidate (ngSubmit)="savePipeForm(pipeForm.value)">-->
        <!--<div class="form-block row">-->
            <!--<div class="form-group col-sm-12">-->
                <!--<label>-->
                    <!--<h1>{{randomNum}}</h1>-->
                <!--</label>-->
                <!--<div>-->
                    <!--<h3>Call Directives appNumberFormatter fractionSize="[2|4|5]"</h3>-->
                    <!--<br>-->
                <!--</div>-->
                <!--<input type="text" class="form-control" formControlName="myField" appNumberFormatter fractionSize="5">-->
                <!--<input type="text" class="form-control" formControlName="myField" appNumberFormatter fractionSize="4">-->
                <!--<input type="text" class="form-control" formControlName="myField" appNumberFormatter fractionSize="2">-->
                <!--<div *ngIf="pipeForm.controls.myField.hasError('required') && pipeForm.controls.myField.touched" class="text-danger">-->
                    <!--<span mltag="txt_thisfieldisrequired">This field is required</span>-->
                <!--</div>-->
            <!--</div>-->

            <!--<div class="form-group col-sm-12">-->
                <!--<div>-->
                    <!--<h3>Call Pipe | moneyValue: [2|4|5]</h3>-->
                    <!--<br>-->
                <!--</div>-->
                <!--{{randomNum}} devient {{randomNum | moneyValue: 5}} avec (5, round sup)<br>-->
                <!--{{randomNum}} devient {{randomNum | moneyValue: 4}} avec (4, round sup)<br>-->
                <!--{{randomNum}} devient {{randomNum | moneyValue: 2}} avec (2, truncated)-->
            <!--</div>-->
            <!--<div class="form-group col-sm-12">-->
                <!--<button id="pipeFormBtnSubmitForm" type="submit" class="btn btn-success" [disabled]="!pipeForm.valid">-->
                    <!--<span mltag="txt_send">Send</span>-->
                <!--</button>-->
                <!--<button id="pipeFormBtnResetForm" type="reset" class="btn btn-info" mltag="txt_reset">Reset</button>-->
                <!--<button id="regenRandom" type="button" class="btn btn-warning" (click)="regenerateRandom()">Regenerate Random</button>-->
            <!--</div>-->
        <!--</div>-->
    <!--</form>-->
<!--</div>-->