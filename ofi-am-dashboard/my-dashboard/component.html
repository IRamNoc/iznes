<div class="header-breadcrumbs">
    <h1 id="am-fund-holdings"><i class="fa fa-user"></i>
        <span mltag="txt_mydashboard">My Dashboard</span> - {{ connectedWalletName }}</h1>
</div>

<div class="wrapper wrapper-content">

    <clr-tabs>
        <clr-tab>
            <button clrTabLink id="am-fund-holdings-tab">
                <i class="fa fa-bar-chart"></i> <span mltag="txt_fund_holdings">My Holdings</span>
            </button>
            <clr-tab-content *clrIfActive="true">
                <div class="panel-body">
                    <form>
                        <div class="row form-group">
                            <div class="col-sm-12">
                                <label mltag="txt_fund_share">
                                    Fund Manager
                                </label>
                                <ng-select
                                        [items]="filteredFundAssetList"
                                        [allowClear]="true"
                                        [formControl]="fundShareForm.controls['selectFund']">
                                </ng-select>
                                <button
                                        (click)="handleCompanySelection()"
                                        class="btn btn-primary btn-end">
                                    Go
                                </button>
                            </div>
                        </div>
                    </form>

                    <div *ngIf="showStats">
                        <hr class="dashed"/>
                        <!-- Holder list table. -->
                        <div class="row">
                            <div class="col-sm-12 col-md-6">
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <!--<th><span mltag="txt_fund_share">Fund share</span></th>-->
                                        <th><span mltag="txt_sub_portfolio">Sub Portfolio</span></th>
                                        <th><span mltag="txt_asset_manager">Asset Manager</span></th>
                                        <th><span mltag="txt_quantity">Quantity</span></th>
                                        <th><span mltag="txt_amount">Estimated Amount</span></th>
                                        <th><span mltag="txt_ratio">Ratio</span></th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let holding of fundStats.assets">
                                        <!--<td colspan="5">{{ holding | json }}</td>-->
                                        <!--<td class="text-left">{{ holding.asset }}</td>-->
                                        <td class="text-left">{{ holding.walletName }}</td>
                                        <td class="text-left">{{ holding.assetManager }}</td>
                                        <td class="text-right">{{ holding.quantity }}</td>
                                        <td class="text-right">&euro; {{ holding.amount }}</td>
                                        <td class="text-right">{{ holding.ratio }}%</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-sm-12 col-md-6">
                                <canvas *ngIf="fundStats.graphLabels.length"
                                        baseChart
                                        [data]="fundStats.graphData"
                                        [labels]="fundStats.graphLabels"
                                        [chartType]="'pie'"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </clr-tab-content>
        </clr-tab>
    </clr-tabs>

</div>
