
<div class="header-breadcrumbs">
    <h1 id="chain-memberships"><i class="fa fa-users"></i> <span mltag="txt_chainmembership">Chain Membership</span></h1>
</div>

<div class="wrapper wrapper-content">

    <clr-tabs *ngIf="tabsControl.length">
        <clr-tab *ngFor="let tabdata of tabsControl; let id = index">
            <button clrTabLink id="link{{id}}" [innerHTML]="tabdata.title"></button>
            <clr-tab-content *clrIfActive="tabdata.active">
                <!-- Manage chain access tab. -->
                <ng-container *ngIf="id === 0">
                    <ng-container
                            *ngTemplateOutlet="manageChainAccessTab"
                    ></ng-container>
                </ng-container>

            </clr-tab-content>
        </clr-tab>
    </clr-tabs>

    <!-- Manage Chain Access. -->
    <ng-template #manageChainAccessTab>
        <div class="panel-body">
            <form action="" [formGroup]="membershipForm" (ngSubmit)="handleUpdateChainMembership()">
                <div class="form-horizontal">
                    <div class="form-group col-sm-6">
                        <label class="control-label"><span class="ml" mltag="txt_chains">Chains</span></label>
                        <ng-select
                                [items]="chainList"
                                [allowClear]="false"
                                placeholder="Select Chain"
                                (selected)="selectChain($event)"
                                formControlName="chain"
                                mltag="txt_selectchain"
                                id="chain-list"
                        >
                        </ng-select>
                    </div>

                    <div class="hr-line-dashed"></div>

                    <div class="form-group col-sm-6">
                        <label class="control-label"><span class="ml" mltag="txt_chainaccesses">Chain Accesses</span></label>
                    </div>

                    <div class="member-chain-access-wrapper">
                        <div class="form-group member-chain-access-item" *ngFor="let thisFormGroup of membershipForm.controls['membershipArr'].controls; let i = index;">
                            <div class="row">

                                <div class="form-group col-sm-4">

                                    <ng-select
                                            [items]="memberList"
                                            [allowClear]="false"
                                            placeholder="Select Member"
                                            [formControl]="thisFormGroup.controls['member']"
                                            (selected)="selectMember($event, i)"
                                            mltag="txt_selectmember"
                                            id="membership-member-{{i}}"
                                    >
                                    </ng-select>
                                </div>

                                <div class="form-group col-sm-4">
                                    <ng-select
                                            [items]="chainMemberShipTypeItems"
                                            [allowClear]="false"
                                            placeholder="Select Membership Type"
                                            [formControl]="thisFormGroup.controls['memberType']"
                                            mltag="txt_selectmembershiptype"
                                            id="membership-type-{{i}}"
                                    >
                                    </ng-select>
                                </div>

                                <div class="form-group col-sm-4">
                                    <ng-select
                                            [items]="currentChainWalletNodeList"
                                            [allowClear]="false"
                                            placeholder="Select Wallet Node"
                                            [formControl]="thisFormGroup.controls['node']"
                                            id="membership-node-{{i}}"
                                    >
                                    </ng-select>

                                    <div class="float-sm-left delete-times-btn" (click)="removeMembershipItem(i)" id="membership-delete-{{i}}">
                                        <i class="fa fa-times"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="hr-line-dashed"></div>

                    <div class="form-group">
                        <button type="button" class="btn btn-default member_chain_access-add-btn" (click)="addMembershipItem()" id="membership-add-btn">
                            <i class="fa fa-plus"></i>
                            <span class="ml" mltag="txt_newmemberaccess">New Member Access </span></button>
                        &nbsp;
                        <button type="submit" class="btn btn-primary member_chain_access-submit-btn" id="membership-save-btn">
                            <i class="fa fa-save"></i>
                            <span class="ml" mltag="txt_save">Save</span></button>
                    </div>
                </div>

                <!--<div class="form-group row">-->
                <!--<label class="col-sm-2 control-label"><span class="ml" mltag="txt_chainaccesses">Chain Accesses</span></label>-->
                <!--</div>-->

                <!--<div class="member-chain-access-wrapper row">-->


                <!--</div>-->
                <!--</div>-->
                <!--</div>-->

                <!--<div class="hr-line-dashed"></div>-->

                <!--<div class="form-group button-group">-->
                <!--<div class="col-sm-offset-2 col-sm-10">-->
                <!--<button type="button" class="btn btn-default member_chain_access-add-btn">-->
                <!--<i class="fa fa-plus"></i>-->
                <!--<span class="ml" mltag="txt_newmemberaccess">New Member Access </span></button>-->
                <!--&nbsp;-->
                <!--<button type="submit" class="btn btn-primary member_chain_access-submit-btn">-->
                <!--<i class="fa fa-save"></i>-->
                <!--<span class="ml" mltag="txt_save">Save</span></button>-->
                <!--</div>-->
                <!--</div>-->
            </form>
        </div>
    </ng-template>
</div>


